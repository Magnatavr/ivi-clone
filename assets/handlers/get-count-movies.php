<?php

// Функция для получения количества страниц с фильмами
// $pdo — объект подключения к базе данных через PDO
// $limit — количество фильмов на одну страницу (лимит)
// Возвращает количество страниц (целое число)
function getCountMovies(PDO $pdo, int $limit): int
{
    // Выполняем запрос, который подсчитывает общее количество фильмов в таблице movies
    $stmt = $pdo->query("SELECT COUNT(*) FROM movies");

    // Получаем значение из первого столбца первой строки — общее число фильмов
    $totalMovies = $stmt->fetchColumn();

    // Делим общее количество фильмов на лимит (фильмов на страницу)
    // и округляем вверх, чтобы учесть неполные страницы
    return (int) ceil($totalMovies / $limit);
}

?>
